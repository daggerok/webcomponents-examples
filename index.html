<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>web components</title>

  <!-- webcomponents polyfills -->
  <script src="node_modules/webcomponentsjs/micro.js"></script>

  <!-- import html components -->
  <link rel="import" href="components/first-template.html" id="firstTemplateFile">

  <!-- main application styles -->
  <style>

    body {
      padding: 1%;
      margin: 0;
    }

  </style>

</head>
<body>

  <!-- main application html -->
  <h3 id="subject">html imported component</h3>

  <div id="app"></div>

  <!-- main application scripts -->
  <script>

    (function main() {
      'use strict';

      var counter = 1;

      function incrementAndGet() {
        return counter++;
      }

      function bootstrap() {

        var app = document.querySelector('#app');
        var templateLink = document.querySelector('#firstTemplateFile');
        var templateFile = templateLink.import;
        var template = templateFile.querySelector('#firstTemplate');

        document.querySelector('#subject').addEventListener('click', () => {

          var nodeCopy = document.importNode(template.content, true); // true means 'deep copy'
          nodeCopy.querySelector('code').textContent = incrementAndGet();
          // template initiated:
          app.insertBefore(nodeCopy, app.firstElementChild);
        });
      }

      window.addEventListener('DOMContentLoaded', bootstrap);

    })();

  </script>

</body>
</html>
